[package]
name = "ten-vad-rs"
version = "0.1.0"
edition = "2024"
description = "Rust wrapper for TenVAD voice activity detection library"
authors = ["Fu Wang <wangfu91@hotmail.com>"]
license = "Apache-2.0"
readme = "README.md"
repository = "https://github.com/wangfu91/ten-vad-rs"
keywords = ["vad", "voice", "audio", "detection", "speech"]
categories = ["multimedia::audio", "science"]

# Performance optimization profiles
[profile.release]
lto = true
codegen-units = 1
panic = "abort"
strip = true

[profile.release-with-debug]
inherits = "release"
debug = true
strip = false

[profile.bench]
inherits = "release"
debug = true

# Features for optional optimizations
[features]
default = []
simd = []
parallel = ["rayon"]

[[example]]
name = "wav_file_vad"
doc-scrape-examples = true

[[example]]
name = "threshold_comparison"
doc-scrape-examples = true

[[example]]
name = "realtime_vad_demo"
doc-scrape-examples = true

[[example]]
name = "test_errors"
doc-scrape-examples = true

[dependencies]
hound = "3.5.1"
rubato = "0.16.2"
rayon = { version = "1.8.0", optional = true }
thiserror = "2.0.6"

[build-dependencies]
bindgen = "0.72.0"

[dev-dependencies]
criterion = "0.6.0"

# Benchmark targets
[[bench]]
name = "vad_benchmark"
harness = false
